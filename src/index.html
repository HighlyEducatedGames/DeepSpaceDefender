<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Deep Space Defender</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <canvas id="gameCanvas"></canvas>

    <div id="menu-container">
      <div id="menu">
        <h2>MENU</h2>
        <button onclick="showSoundOptions()">Sound Options</button>
        <button onclick="showHowToPlay()">How to Play</button>
        <button onclick="showControls()">Controls</button>
        <button onclick="showCredits()">Credits</button>
        <p>
          Press <span class="action" id="fireText">Space</span> to Restart,
          <span class="action" id="menuText">M</span> to Unpause.
        </p>
      </div>

      <div id="soundOptions">
        <h2>Sound Options</h2>
        <div class="slider-container">
          <label for="backgroundMusicVolume">Background Music Volume</label>
          <input type="range" id="backgroundMusicVolume" min="0" max="1" step="0.01" value="0.5" />
        </div>
        <div class="slider-container">
          <label for="soundEffectsVolume">Sound Effects Volume</label>
          <input type="range" id="soundEffectsVolume" min="0" max="1" step="0.01" value="0.5" />
        </div>
        <p class="back-button" onclick="menuBack()">Back</p>
      </div>

      <div id="credits">
        <p>Made by Task Rok / DBKynd</p>
        <p>Suno AI for the Music</p>
        <p>ElevenLabs for the sound effects</p>
        <p>OpenAI and Adobe Photoshop Beta for the Title Screen art</p>
        <p>Thanks for playing! send feedback to task@highlyeducatedti.com</p>
        <p class="back-button" onclick="menuBack()">Back</p>
      </div>

      <div id="howToPlay">
        <h2>How to Play</h2>
        <table id="howToPlayTable">
          <tr>
            <th>Item</th>
            <th>Description</th>
          </tr>
          <tr>
            <td><img src="assets/images/player.png" alt="Player" /></td>
            <td>Use arrow keys to move and spacebar to shoot.</td>
          </tr>
          <tr>
            <td><img src="assets/images/coin.png" alt="Coin" /></td>
            <td>Collect coins to increase your score and health.</td>
          </tr>
          <tr>
            <td><img src="assets/images/powerUp.png" alt="Power Up" /></td>
            <td>Blaster Power-Up. 3x Power.</td>
          </tr>
          <tr>
            <td><img src="assets/images/bombPowerUp.png" alt="Bomb Power Up" /></td>
            <td>Bomb Power-Up. Use with B Key</td>
          </tr>
          <tr>
            <td><img src="assets/images/homingMissilePowerUp.png" alt="Homing Missile Power Up" /></td>
            <td>Homing Missile Power-Up. Use with H Key</td>
          </tr>
          <tr>
            <td><img src="assets/images/shield_powerUp.png" alt="Shield Power Up" /></td>
            <td>Shield Power-Up. Protects you from damage</td>
          </tr>
          <tr>
            <td><img src="assets/images/reversePowerUp.png" alt="Reverse Power Up" /></td>
            <td>Reverse Projectile Power-Up. Fires backwards 3x Power.</td>
          </tr>
          <tr>
            <td><img src="assets/images/boostPowerUp.png" alt="Boost Power Up" /></td>
            <td>Boost Power-up. Unlimited boosts for a limited time.</td>
          </tr>
          <tr>
            <td><img src="assets/images/ally.png" alt="Ally" /></td>
            <td>Ally spaceship. Fights alongside you.</td>
          </tr>
          <tr>
            <td><img src="assets/images/enemy.png" alt="Enemy" /></td>
            <td>Enemy spaceship. Avoid or destroy them.</td>
          </tr>
          <tr>
            <td><img src="assets/images/enemy_tank.png" alt="Enemy Tank" /></td>
            <td>Enemy tank. Tougher than regular enemies.</td>
          </tr>
          <tr>
            <td><img src="assets/images/stealth_enemy.png" alt="Stealth Enemy" /></td>
            <td>Stealth enemy. Hard to detect.</td>
          </tr>
          &lt;!&ndash; Add more rows as needed for other assets &ndash;&gt;
        </table>
        <p class="back-button" onclick="menuBack()">Back</p>
      </div>

      <div id="controls">
        <h2>Controls</h2>
        <table id="controlsTable">
          <tr>
            <th>Action</th>
            <th>Keyboard</th>
            <th>Xbox Gamepad</th>
          </tr>
          <tr>
            <td>Rotate Left</td>
            <td>Left Arrow</td>
            <td>D-Pad Left / Right Stick Left</td>
          </tr>
          <tr>
            <td>Rotate Right</td>
            <td>Right Arrow</td>
            <td>D-Pad Right / Right Stick Right</td>
          </tr>
          <tr>
            <td>Thrust</td>
            <td>Up Arrow</td>
            <td>Right Trigger (RT)</td>
          </tr>
          <tr>
            <td>Reverse</td>
            <td>Down Arrow</td>
            <td>Left Trigger (LT)</td>
          </tr>
          <tr>
            <td>Fire</td>
            <td>Space</td>
            <td>A Button</td>
          </tr>
          <tr>
            <td>Bomb</td>
            <td>B</td>
            <td>B Button or Left Bumper</td>
          </tr>
          <tr>
            <td>Boost</td>
            <td>X</td>
            <td>X Button</td>
          </tr>
          <tr>
            <td>Missile</td>
            <td>H</td>
            <td>Y Button or Right Bumper</td>
          </tr>
          <tr>
            <td>Pause/Menu</td>
            <td>M</td>
            <td>Start Button</td>
          </tr>
          <tr>
            <td>Restart</td>
            <td>F5</td>
            <td>Select Button (Menu)</td>
          </tr>
        </table>
        <p class="back-button" onclick="menuBack()">Back</p>
      </div>
    </div>

    <script>
      function showCredits() {
        document.getElementById('credits').style.display = 'block';
        document.getElementById('menu').style.display = 'none';
      }

      function showHowToPlay() {
        document.getElementById('howToPlay').style.display = 'block';
        document.getElementById('menu').style.display = 'none';
      }

      function showSoundOptions() {
        document.getElementById('soundOptions').style.display = 'block';
        document.getElementById('menu').style.display = 'none';
      }

      function showControls() {
        document.getElementById('controls').style.display = 'block';
        document.getElementById('menu').style.display = 'none';
      }

      function menuBack() {
        document.getElementById('credits').style.display = 'none';
        document.getElementById('howToPlay').style.display = 'none';
        document.getElementById('soundOptions').style.display = 'none';
        document.getElementById('controls').style.display = 'none';

        document.getElementById('menu').style.display = 'block';
      }

      function updateMenuText(usingGamepad) {
        const fireText = document.getElementById('fireText');
        const menuText = document.getElementById('menuText');
        if (usingGamepad) {
          fireText.innerText = 'A';
          menuText.innerText = 'Start';
        } else {
          fireText.innerText = 'Space';
          menuText.innerText = 'M';
        }
      }
    </script>

    <script type="module" src="script.js"></script>
  </body>
</html>
